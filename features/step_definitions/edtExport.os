// BSLLS:LatinAndCyrillicSymbolInWord-off
// BSLLS:MissingReturnedValueDescription-off
// BSLLS:MissingParameterDescription-off

// Реализация шагов BDD-фич/сценариев c помощью фреймворка https://github.com/artbear/1bdd

#Использовать fs

Перем БДД; //контекст фреймворка 1bdd

// Метод выдает список шагов, реализованных в данном файле-шагов
Функция ПолучитьСписокШагов(КонтекстФреймворкаBDD) Экспорт
	БДД = КонтекстФреймворкаBDD;

	ВсеШаги = Новый Массив;

	ВсеШаги.Добавить("ЯСкопировалКаталогРабочегоОкруженияEDTВКаталогИзПеременной");
	Возврат ВсеШаги;
КонецФункции

// Реализация шагов

// Процедура выполняется перед запуском каждого сценария
Процедура ПередЗапускомСценария(Знач Узел) Экспорт
	
КонецПроцедуры

// Процедура выполняется после завершения каждого сценария
Процедура ПослеЗапускаСценария(Знач Узел) Экспорт
	
КонецПроцедуры


//я скопировал каталог рабочего окружения EDT в каталог из переменной "РабочееОкружениеEDT"
Процедура ЯСкопировалКаталогРабочегоОкруженияEDTВКаталогИзПеременной(Знач ИмяПеременной) Экспорт
	РабочееОкружениеEDT = БДД.ПолучитьИзКонтекста(ИмяПеременной);
	ФС.ОбеспечитьПустойКаталог(РабочееОкружениеEDT);
	ФС.КопироватьСодержимоеКаталога(ПутьКРабочемуОкружениюEDT(), РабочееОкружениеEDT);
КонецПроцедуры

Функция ПутьКРабочемуОкружениюEDT()
	
	Возврат ОбъединитьПути(КаталогFixtures(), "edtWorkspace");
	
КонецФункции

Функция КаталогFixtures()
	Возврат ОбъединитьПути(КореньПроекта(), "tests", "fixtures");
КонецФункции

Функция КореньПроекта()
	Возврат ОбъединитьПути(ТекущийСценарий().Каталог, "..", "..");
КонецФункции
